@startuml
'https://plantuml.com/sequence-diagram
!include ../../Style.puml

autonumber

title Sequence Diagram of `plan /details` Command
hide footbox

participant "werkIt:WerkIt" AS WerkIt
participant "detailsCommand\n:PlanCommand" AS detailsCommand
participant "planList\n:PlanList" AS PlanList
participant "plan\n:Plan" AS Plan
participant "workout\n:Workout" AS Workout

activate WerkIt
ref over WerkIt
Obtain and parse user input.
end

WerkIt -> detailsCommand : execute()
activate detailsCommand
detailsCommand -> PlanList : listPlanDetails(userArguments, ui)
activate PlanList
ref over PlanList
Parse the user input to obtain the plan
index number. (Method calls not shown)
end

ref over PlanList
Check the validity of user input and
throw exceptions if checking fails.
(Method calls not shown)
end

PlanList -> PlanList : getPlanFromIndexNum(indexOfPlan)
activate PlanList
return planToViewDetails : Plan

PlanList -> Plan : getWorkoutsInPlanList()
activate Plan
return workoutsInPlanList : ArrayList<Workout>

loop index < numberOfWorkoutsInPlan
PlanList -> Plan : get(index)
activate Plan
Plan -> Workout : toString()
activate Workout
return workoutDetails:String
deactivate Plan
end

detailsCommand <-- PlanList
deactivate PlanList

WerkIt <-- detailsCommand
deactivate detailsCommand

destroy detailsCommand
@enduml